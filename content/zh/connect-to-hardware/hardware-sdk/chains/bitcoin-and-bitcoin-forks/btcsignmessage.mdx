---
title: btcSignMessage
---

# btcSignMessage

## Bitcoin：签名消息

请求设备使用由给定 BIP32 路径派生的私钥对消息进行签名。

```typescript
const result = await HardwareSDK.btcSignMessage(connectId, deviceId, params);
```

## 参数

[**可选通用参数**](../common-params)

* `path` - _必需_ `string | Array<number>` 最小长度为 `3`。[更多信息](../path)
* `messageHex` - _必需_ `string` 十六进制格式的消息
* `coin` - _可选_ `string` 决定 coins.json 文件中指定的网络定义。可以使用币种的 `shortcut`、`name` 或 `label`。如果未设置 `coin`，API 将尝试从 `path` 获取网络定义。
* `noScriptType`- _可选_ `boolean` 用于不带脚本类型的签名。

### 示例

```typescript
HardwareSDK.btcSignMessage(connectId, deviceId, {
    path: "m/44'/0'/0'",
    messageHex: "6578616d706c65206d657373616765"
});
```

### 返回结果

```typescript
{
    success: true,
    payload: {
        address: string,   // 签名者地址
        signature: string, // base64 格式的签名
    }
}
```

错误

```typescript
{
    success: false,
    payload: {
        error: string, // 错误信息
        code: number // 错误码
    }
}
```
