---
title: benfenGetAddress
---

# benfenGetAddress

### Benfen：获取地址

在设备上显示由给定 BIP32 路径派生的请求地址，并将其返回给调用者。用户需要在 OneKey 上确认导出。

**使用要求**

* 固件版本要求
  * Pro: 4.12.0

```typescript
const result = await HardwareSDK.benfenGetAddress(connectId, deviceId, params);
```

#### 参数

**可选通用参数**

* `path` - _必需_ `string | Array<number>` 最小长度为 `3`。[更多信息](../../../api-reference/path)
* `showOnOneKey` - _可选_ `boolean` 是否在设备上显示地址

#### 返回值

* success: boolean - 成功时为 true
* payload:
  * address: string - 派生的 BFC 格式地址
  * path: string - 使用的 BIP32 路径
  * pub?: string - 公钥（如果可用）

示例：

```typescript
const params = {
  path: "m/44'/728'/0'/0'/0'",
  showOnOneKey: false
};

// 单个地址
const response = await HardwareSDK.benfenGetAddress(connectId, deviceId, params);

// 批量地址
const batchParams = {
  bundle: [
    {
      path: "m/44'/728'/0'/0'/0'",
      showOnOneKey: false
    },
    {
      path: "m/44'/728'/1'/0'/0'",
      showOnOneKey: false
    }
  ]
};
const batchResponse = await HardwareSDK.benfenGetAddress(connectId, deviceId, batchParams);
```

**返回结果**

仅返回一个地址的结果

```typescript
{
    success: true,
    payload: {
        address: string,     // 显示的地址
        pub: string,
        path: Array<number> // 强化路径
    }
}
```

返回批量地址的结果（按 FIFO 排序）

```typescript
{
    success: true,
    payload: [
        { address: string, pub: string, path: Array<number> }, // 账户 1
        { address: string, pub: string, path: Array<number> }, // 账户 2
        { address: string, pub: string, path: Array<number> }  // 账户 3
    ]
}
```

错误

```
{
    success: false,
    payload: {
        error: string, // 错误信息
        code: number // 错误码
    }
}
```
