---
title: aptosSignMessage
---

# aptosSignMessage

## 使用要求

* 固件版本要求
  * Touch: 3.0.0
  * Classic/Mini: 2.6.0

## Aptos：签名消息

请求设备使用由给定 BIP32 路径派生的私钥对消息进行签名。

```typescript
const result = await HardwareSDK.aptosSignMessage(connectId, deviceId, params);
```

### 参数

[**可选通用参数**](../../../api-reference/common-params)

* `path` - _必需_ `string | Array<number>` 最小长度为 `3`。[更多信息](../../../api-reference/path)
* `payload` - `AptosMessagePayload` 类型
  * `address` - _可选_ `string` 路径派生的地址
  * `chainId` - _可选_ `string` 链 ID
  * `application` - _可选_ `string` DApp 网站 URL
  * `nonce` - _必需_ `string` 随机数
  * `message` - _必需_ `string` 要签名的消息文本

### 示例

```typescript
HardwareSDK.aptosSignMessage(connectId, deviceId, {
    path: "m/44'/637'/0'/0'/0'",
    payload: {
        nonce: "1",
        message: "hello world"
    }
});
```

返回结果

```typescript
{
    success: true,
    payload: {
        path: string;
        fullMessage: string;
        signature: string;
        address: string;
    }
}
```

错误

```typescript
{
    success: false,
    payload: {
        error: string, // 错误信息
        code: number // 错误码
    }
}
```
